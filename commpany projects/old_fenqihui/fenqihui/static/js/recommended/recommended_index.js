"use strict";controllerFunc("mainPage","mainController",function(a,t,e){function o(){({head:$(".route-search").eq(0),offsetTop:$(".route-search").eq(0).offset().top,search:$("#route_search")});$("#main-wrap section").css("display","none"),$("#foot_check1").siblings("span").css("color","red"),a.dialog=new Dialog(DIALOG_DIALOG,"请在微信中打开此功能")}function n(){new Swiper(".swiper-container",{direction:"horizontal",autoplay:5e3,loop:!0,freeModeMomentumBounce:!1,pagination:".swiper-pagination"})}function r(){a.isRealName=!0,u?t({method:"POST",params:{token:u},url:BaseUrl+"members/searchRealNameStatus"}).then(function(t){t.data.result===SUCCESS_CODE?"1"===t.data.status&&"1"===t.data.accountStatus&&(a.isRealName=!1):a.isRealName=!0},function(t){console.error("数据请求失败"),a.isRealName=!0}):a.isRealName=!0}function l(){t({method:"POST",params:{start:1},url:BaseUrl+"fqhpro/getAllProductSuperType"}).then(function(t){console.log(t),t.data.result===SUCCESS_CODE&&(a.labelArray=t.data.data)},function(a){console.error("数据请求失败")})}function s(){t({method:"POST",params:{start:1,bType:1},url:BaseUrl+"fqhpro/getFqhProductCarouselImgList"}).then(function(t){t.data.result===SUCCESS_CODE&&(a.bannerList=t.data.data,e(function(){n()},500))},function(a){console.error("数据请求失败")})}function i(){t({method:"POST",url:BaseUrl+"fqhpro/getHotSellProduct",params:{start:1}}).then(function(t){t.data.result===SUCCESS_CODE&&(t.data.data||t.data.data.length)&&(10==t.data.data.length&&(m=!1,d++),a.proItems=a.proItems.concat(t.data.data))},function(a){console.error("数据请求失败")})}function c(){a.toDetail=function(a){go_page("../travel/travel_myDetails.html",[{pId:a}])},a.searchBourn=function(a,t,e){go_page("../../pages/recommended/recommendation_destination.html",[{index:e}])},a.searchDetail=function(a){go_page("../travel/travel_myDetails.html",[{pId:a.pId}])},a.toRealName=function(){u?a.isRealName&&go_page("../travel/travel_upload_cdCard.html"):go_page("../account/new_login.html")}}var u=getToken(),d=1;a.proItems=[],a.loginTag=!0,o(),s(),r(),l(),i(),c(),a.goSearch=function(){go_page("../../pages/account/home_search.html")};var m=!0;$(window).scroll(function(){var a=$(this).scrollTop(),t=$(document).height(),e=$(this).height();20>t-a-e&&0==m&&(m=!0,i())})});