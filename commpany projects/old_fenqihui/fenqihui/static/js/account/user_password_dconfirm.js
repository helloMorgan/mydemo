"use strict";controllerFunc("userDconfirm","userDconfirmController",function(e,n){function o(n,o){e.$apply(function(){e.pro_text=n}),$("#layer").css("display","block"),$(".close_btn").click(function(){$("#layer").css("display","none"),null!=o&&go_page(o)})}function i(n,o){e.pro_text="亲，"+n,$("#layer").css("display","block"),$(".close_btn").click(function(){$("#layer").css("display","none"),null!=o&&go_page(o)})}function t(n){e.pro_text=n;var o=getTypeNative();$("#layer").css("display","block"),$(".close_btn").click(function(){if($("#layer").css("display","none"),"android"==o)android.idCardBack();else if("ios"==o)backAccount();else{var e="../../pages/recommended/recommended_index.html";i("支付密码设置成功",e)}})}function c(c){if("remove"===c)return l.eq(--a).html(""),void u.pop();if(l.eq(a).html(c),a++,a===s){var r=u.join(""),c=GetQueryString("pass");r==c?n({method:"POST",params:{token:getToken(),payPwd:r},url:BaseUrl+"account/modifyPayPwd"}).success(function(e){if("0000"==e.result)t("恭喜您， 设置成功");else{var n="account/user_forget_pay_password.html";i("系统错误， 请重新修改",n)}}).error(function(e){i("网络忙， 请重新修改")}):(e.pro_text="两次密码输入不一致",o("两次密码输入不一致"))}}var r=$("#keybord ul li"),l=$("#pass_show li"),s=6,a=0,u=[],d=getTypeNative();"ios"==d?$("#keybord ul li").bind("touchstart touchend",function(e){var n=$(this).index(),o=$(r.eq(n)).children("i").html();11===n?c("remove"):(u.push(o),c("*"))}):$("#keybord ul li").bind("click",function(e){var n=$(this).index(),o=$(r.eq(n)).children("i").html();11===n?c("remove"):(u.push(o),c("*"))})});