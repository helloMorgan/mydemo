"use strict";controllerFunc("userForgetLoginPassword","userForgetLoginPasswordController",function(e,s,t){function r(s){e.pro_text=s,e.isMsg=!1,t(function(){e.isMsg=!0},1e3,!0)}function o(){s({method:"POST",url:baseUrl+"members/modifyNickName",params:{token:getToken(),nickName:e.userName}}).then(function(e){r("用户名设置"+e.data.message),e.data.result==SUCCESS_CODE&&(sessionStorage.getItem("save")?sessionStorage.setItem("save",parseInt(sessionStorage.getItem("save"))+1):sessionStorage.setItem("save",2),history.go(-1))},function(){alert("网络异常")})}e.isMsg=!0;var a=sessionStorage.getItem("userName");e.userName=a,e.isClick=!1,e.saveName=function(){if(null==e.userName||""==e.userName||void 0==e.userName)r("用户名不能为空");else{for(var s=0,t=0;t<e.userName.length;t++)/^[\u4e00-\u9fa5]$/.test(e.userName.charAt(t))?s+=2:s++;s>16?r("超限不可输入,字母或数字16位，中文8位"):e.isClick&&o()}},e.$watch("userName",function(s,t){s==a?($(".login-user-login a").css("background","#ccc"),e.isClick=!1):(e.isClick=!0,$(".login-user-login a").css({background:"linear-gradient(to right,#F06E00, #E1281C)","border-color":"#E1281C #F06E00 #F06E00 #E1281C"}))},!0)});